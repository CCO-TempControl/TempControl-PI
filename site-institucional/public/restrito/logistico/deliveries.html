<!DOCTYPE html>
<html lang="pt-br">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <script src="https://kit.fontawesome.com/2eecc47c4e.js" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <script src="//cdn.jsdelivr.net/npm/sweetalert2@11"></script>
  <script src="../../assets/js/funcoes.js"></script>
  <link rel="stylesheet" href="style.css">
  <link rel="icon" type="image/x-icon" href="../../assets/img/Logo.png">
  <title>ENTREGAS - TempControl</title>
</head>

<body>
  <div class="wrapper">
    <div class="sidebar">
      <div class="dropdown">
        <a href="#"><i class="fa-solid fa-circle-user" style="font-size:70px;  color: white;"></i>
          <div class="dropdown-content">
            <h4>Olá {{nome.usuario}}</h4>
          </div>
      </div>
      <ul>
        <li><a href="./index.html">
            <i class="fas fa-home"></i>
            Home
          </a></li>
        <li><a href="./requests.html">
            <i class="fas fa-solid fa-file-contract"></i>
            Solicitações
          </a></li>
        <li><a href="">
            <i class="fas fa-regular fa-truck-ramp-box"></i>
            Entregas
          </a></li>
        <li><a href="">
            <i class="fas fa-solid fa-chart-gantt"></i>
            Dados Pessoais
          </a></li>
        <li><a href="" onclick="sair()">
            <i class="fas fa-solid fa-arrow-right-from-bracket"></i>
            Sair
          </a></li>
      </ul>

    </div>
    <div class="main_content">
      <div class="header">
        <img src="img/logo_nome_sembg.png">
      </div>
      <div class="info">
        <div class="container">
          <div class="form-card">
            <h2>Solicitar Entrega</h2>
            <div class="options">
              <button id="btnRoute" class="option selected" disabled>1 - Trajeto</button>
              <button id="btnShipment" class="option" disabled>2 - Carregamento</button>
              <button id="btnCompany" class="option" disabled>3 - Transportadora</button>
            </div>

            <div id="divRoute" class="form">
              <div class="field">
                <label for="txtOrigem">
                  Informe a Origem da entrega (local onde a transportadora irá pegar o carregamento):
                </label>
                <input id="txtOrigem" type="text" placeholder="Ex: Rua Saturno, 386 - São Paulo, SP">
              </div>
              <div class="field">
                <label for="txtDestino">
                  Informe o Destino da entrega (local aonde a transportadora irá entregar o carregamento):
                </label>
                <input id="txtDestino" type="text" placeholder="Ex: Rua Saturno, 386 - São Paulo, SP">
              </div>
              <button onclick="validarRota()">Prosseguir</button>
            </div>

            <div id="divShipment" class="form">
              <div class="boxes">
                <div class="box">
                  <div class="upper-box">
                    Temperatura Miníma
                  </div>
                  <p>8</p>
                </div>
                <div class="box">
                  <div class="upper-box">
                    Temperatura Máxima
                  </div>
                  <p>18</p>
                </div>
                <div class="box">
                  <div class="upper-box">
                    Umidade Miníma
                  </div>
                  <p>40</p>
                </div>
                <div class="box">
                  <div class="upper-box">
                    Umidade Máxima
                  </div>
                  <p>60</p>
                </div>
              </div>
              <div>
                <button onclick="adicionarMedicamento()">Adicionar Medicamento</button>
              </div>
              <table class="table">
                <thead>
                  <tr>
                    <th>Quantidade</th>
                    <th>Medicamento</th>
                    <th>Temperatura</th>
                    <th>Umidade</th>
                    <th>Ação</th>
                  </tr>
                </thead>
                <tbody id="tbShipment">
                  <tr>
                    <td><input type="number" min="1" value="1"></td>
                    <td>Atenolol</td>
                    <td>8 - 24</td>
                    <td>10 - 60</td>
                    <td><i class="fa-solid fa-trash-can"></i></td>
                  </tr>
                  <tr class="alternative">
                    <td><input type="number" min="1" value="1"></td>
                    <td>Atenolol</td>
                    <td>8 - 24</td>
                    <td>10 - 60</td>
                    <td><i class="fa-solid fa-trash-can"></i></td>
                  </tr>
                  <tr>
                    <td><input type="number" min="1" value="1"></td>
                    <td>Atenolol</td>
                    <td>8 - 24</td>
                    <td>10 - 60</td>
                    <td><i class="fa-solid fa-trash-can"></i></td>
                  </tr>
                </tbody>
              </table>
              <div class="buttons">
                <button onclick="mudarRota()">Mudar Rota</button>
                <button onclick="validarCarregamento()">Prosseguir</button>
              </div>
            </div>
            <div id="divCompany" class="form">
              <div class="field">
                <label for="txtTransportadora">Selecione a Transportadora responsável por essa entrega</label>
                <input id="txtTransportadora" list="cmbTransportadora" placeholder="Transportadora">
                <datalist id="cmbTransportadora">
                  <option value="Polar">Polar</option>
                  <option value="KGT">KGT</option>
                  <option value="Norte">Norte</option>
                  <option value="Friaca">Friaca</option>
                  <option value="Freeza">Freeza</option>
                  <option value="Congelando">Congelando</option>
                </datalist>
              </div>
              <p>Selecione um sensor para se utilizado durante o transporte</p>
              <table class="table">
                <thead>
                  <tr>
                    <th>ID</th>
                    <th>Equipamento</th>
                    <th>Disponibilidade</th>
                    <th>Selecionar</th>
                  </tr>
                </thead>
                <tbody id="tbShipment">
                  <tr>
                    <td>101</td>
                    <td>Sensor 1</td>
                    <td>Livre</td>
                    <td><input name="radSensor" type="radio"></td>
                  </tr>
                  <tr class="alternative">
                    <td>101</td>
                    <td>Sensor 1</td>
                    <td>Livre</td>
                    <td><input name="radSensor" type="radio"></td>
                  </tr>
                  <tr>
                    <td>103</td>
                    <td>Sensor 3</td>
                    <td>Em uso</td>
                    <td><input name="radSensor" type="radio"></td>
                  </tr>
                </tbody>
              </table>
              <div class="buttons">
                <button onclick="mudarCarregamento()">Mudar Carregamento</button>
                <button onclick="finalizar()">Finalizar</button>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</body>
<script>
  var origem = '';
  var destino = '';
  var carregamento = [];

  function validarRota() {
    origem = txtOrigem.value;
    destino = txtDestino.value;

    if (
      origem == ''
      || destino == ''
    ) {
      Swal.fire({
        title: 'Erro',
        text: 'Todos os campos são obrigatórios',
        icon: 'error',
        confirmButtonColor: '#fc3636'
      })
      return;
    }

    btnRoute.classList.remove('selected');
    divRoute.style.display = 'none';
    
    divShipment.style.display = 'flex';
    btnShipment.classList.add('selected');
  }

  function mudarRota() {
    btnShipment.classList.remove('selected');
    divShipment.style.display = 'none';
    
    divRoute.style.display = 'flex';
    btnRoute.classList.add('selected');
  }

  function validarCarregamento() {
    btnShipment.classList.remove('selected');
    divShipment.style.display = 'none';
    
    divCompany.style.display = 'flex';
    btnCompany.classList.add('selected');
  }

  function mudarCarregamento() {
    btnCompany.classList.remove('selected');
    divCompany.style.display = 'none';
    
    divShipment.style.display = 'flex';
    btnShipment.classList.add('selected');
  }

  function finalizar() {
    Swal.fire({
      title: 'Suceso',
      text: 'Solicitação de entrega enviada para transportadora',
      icon: 'success',
      timer: 2000,
      timerProgressBar: true,
      confirmButtonColor: '#34e269',
      willClose: () => {
        window.location.replace('./index.html');
      }
    });
  }
</script>
<script>
  verificarAutorizacao('logistico');

  function sair() {
    signOut();
  }
</script>
</html>