<!DOCTYPE html>
<html lang="pt-br">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://kit.fontawesome.com/2eecc47c4e.js" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="../../assets/js/funcoes.js"></script>
    <link rel="stylesheet" href="style.css">
    <link rel="icon" type="image/x-icon" href="../../assets/img/Logo.png">
    <title>DashBoard</title>
</head>

<body>


    <div class="wrapper">
        <div class="sidebar">
            <div class="dropdown">
                <a href="#"><i class="fa-solid fa-circle-user" style="font-size:70px;  color: white;"></i></a>
                <div class="dropdown-content">
                    <h4>Olá <span id="spanNome"></span></h4>
                </div>
            </div>
            <ul>
                <a href="./index.html"><li><i class="fas fa-home"></i>Home</li></a>
                <a href="./solicitacoes.html"><li><i class="fas fa-solid fa-file-contract"></i>Solicitações</li></a>
                <a href="./entregas.html"><li><i class="fas fa-regular fa-truck-ramp-box"></i>Entregas</li></a>
                <a href="./veiculos.html"><li><i class="fas fa-regular fa-truck"></i>Veículos</li></a>
                <a href="./sensores.html"><li><i class="fas fa-solid fa-pager"></i>Sensores</li></a>
                <a href="./graficos.html"><li><i class="fas fa-solid fa-chart-gantt"></i></i>Gráficos/Alertas</li></a>
                <a href="./usuarios.html"><li><i class="fas fa-solid fa-users"></i>Usuários</li></a>
                <a href="../../index.html" onclick="sair()"><li><i class="fas fa-solid fa-arrow-right-from-bracket"></i></i>Sair</li></a>
            </ul>

        </div>
        <div class="main_content">
            <div class="header">
                <!-- <input type="text" placeholder="Pesquise.."> -->
                <img src="img/logo_nome_sembg.png">
            </div>
            <div class="info">
                <div class="options">
                    <button id="btnOperacao" class="option selected" onclick="operacao()">Operação</button>
                    <button id="btnEstrategico" class="option" onclick="estrategico()">Estratégico</button>
                </div>
                <div id="idOperacao">
                    <div class="viagens">
                        <select id="selectViagem" onchange="troca();">
                            <option value="1">Viagem 1</option>
                            <option value="2">Viagem 2</option>
                        </select>
                    </div>
                    <div id="viagem1" class="viagem">
                        <div id="cards">
                            <div class="card">
                                <div class="card-background">
                                    <h2>Temperatura</h2>
                                </div>
                                <div class="card-information">
                                    <h3>-2/12°C</h3>
                                    <small>Menor/Maior Temperatura Alcançada</small>
                                </div>
                            </div>
                            <div class="card">
                                <div class="card-background">
                                    <h2>Umidade Relativa</h2>
                                </div>
                                <div class="card-information">
                                    <h3>20/80%</h3>
                                    <small>Menor/Maior Umidade Alcançada</small>
                                </div>
                            </div>
                            <div class="card">
                                <div class="card-background">
                                    <h2>Alertas Emitidos</h2>
                                </div>
                                <div class="card-information">
                                    <h3>20</h3>
                                    <small>Na viagem atual 20 alertas emitidos</small>
                                </div>
                            </div>
                        </div>

                        <div id="graficos">
                            <div class="chart-container chart" style="position: relative;">
                                <h1>Temperatura Da Viagem Atual</h1>
                                <canvas id="myChart7"></canvas>
                            </div>
                            <div class="chart-container chart" style="position: relative;">
                                <h1>Umidade Da Viagem Atual</h1>
                                <canvas id="myChart8"></canvas>
                            </div>
                        </div>
                    </div>
                    <div id="viagem2" class="viagem"style="display: none;">
                        <div id="cards">
                            <div class="card">
                                <div class="card-background">
                                    <h2>Temperatura</h2>
                                </div>
                                <div class="card-information">
                                    <h3>-20/80°C</h3>
                                    <small>Menor/Maior Temperatura Alcançada</small>
                                </div>
                            </div>
                            <div class="card">
                                <div class="card-background">
                                    <h2>Umidade Relativa</h2>
                                </div>
                                <div class="card-information">
                                    <h3>70/80%</h3>
                                    <small>Menor/Maior Umidade Alcançada</small>
                                </div>
                            </div>
                            <div class="card">
                                <div class="card-background">
                                    <h2>Alertas Emitidos</h2>
                                </div>
                                <div class="card-information">
                                    <h3>350</h3>
                                    <small>Na viagem atual 350 alertas emitidos</small>
                                </div>
                            </div>
                        </div>

                        <div id="graficos">
                            <div class="chart-container chart" style="position: relative;">
                                <h1>Temperatura Da Viagem Atual</h1>
                                <canvas id="myChart9"></canvas>
                            </div>
                            <div class="chart-container chart" style="position: relative;">
                                <h1>Umidade Da Viagem Atual</h1>
                                <canvas id="myChart10"></canvas>
                            </div>
                        </div>
                    </div>

                    <div class="analytic" id="cards">
                        <div class="card">
                            <div class="card-background" id="critico">
                                <h2>Crítico</h2>
                            </div>
                            <div class="card-information">
                                <h3>2°C</h3>
                            </div>
                        </div>
                        <div class="card">
                            <div class="card-background" id="alerta">
                                <h2>Alerta</h2>
                            </div>
                            <div class="card-information">
                                <h3>4°C</h3>
                            </div>
                        </div>
                        <div class="card">
                            <div class="card-background" id="ideal">
                                <h2>Ideal</h2>
                            </div>
                            <div class="card-information">
                                <h3>5°C</h3>
                            </div>
                        </div>
                        <div class="card">
                            <div class="card-background" id="alerta">
                                <h2>Alerta</h2>
                            </div>
                            <div class="card-information">
                                <h3>6°C</h3>
                            </div>
                        </div>
                        <div class="card">
                            <div class="card-background" id="critico">
                                <h2>Crítico</h2>
                            </div>
                            <div class="card-information">
                                <h3>8°C</h3>
                            </div>
                        </div>
                    </div>

                </div>
                <!-- Estrategico-->

                <div id="idEstrategico" style="display: none;">
                    <div id="cards">
                        <div class="card">
                            <div class="card-background">
                                <h2>Alertas Por Temperatura</h2>
                            </div>
                            <div class="card-information">
                                <h3>75%</h3>
                                <small>750 dos alertas ocorreram por temperatura</small>
                            </div>
                        </div>
                        <div class="card">
                            <div class="card-background">
                                <h2>Alertas Por Umidade Relativa</h2>
                            </div>
                            <div class="card-information">
                                <h3>25%</h3>
                                <small>250 dos alertas ocorreram por umidade</small>
                            </div>


                        </div>
                        <div class="card">
                            <div class="card-background">
                                <h2>Transportadora Mais Confiável</h2>
                            </div>
                            <div class="card-information">
                                <h3>Polar</h3>
                                <small>Emitiu Apenas 25 Alertas</small>
                            </div>
                        </div>
                        <div class="card">
                            <div class="card-background">
                                <h2>Transportadora Mais Utilizada</h2>
                            </div>
                            <div class="card-information">
                                <h3>Polar</h3>
                                <small>Realizou 120 Viagens</small>
                            </div>
                        </div>
                    </div>

                    <div id="graficos">
                        <div class="chart-container chart" style="position: relative;">
                            <h1>Média De Alertas Mensal</h1>
                            <canvas id="myChart1"></canvas>
                        </div>
                        <div class="chart-container chart" style="position: relative;">
                            <h1>Média De Alertas Semanal</h1>
                            <canvas id="myChart2"></canvas>
                        </div>
                    </div>

                    <div id="graficos">
                        <div class="chart-container chart" style="position: relative;">
                            <h1>Média De Alertas Diário</h1>
                            <canvas id="myChart3"></canvas>
                        </div>
                        <div class="chart-container chart" style="position: relative;">
                            <h1>Média De Alertas Por Hora</h1>
                            <canvas id="myChart4"></canvas>
                        </div>
                    </div>
                    <div id="graficos">
                        <div class="chart-container chart" style="position: relative;">
                            <h1>Relação Alerta/Viagem</h1>

                            <canvas id="myChart6"></canvas>

                        </div>
                        <div class="chart-container chart" style="position: relative;width: 23vw;">
                            <h2>Observação Geral</h2>
                            <canvas id="myChart5"></canvas>
                        </div>

                    </div>

                </div>
            </div>
        </div>
</body>

<script>
    const labels = [
        'Abril',
        'Maio',
        'Junho',
        'Julho',
        'Agosto',
    ];

    const data1 = {
        labels: labels,
        datasets: [{
            label: 'Alertas',
            backgroundColor: 'rgb(255, 99, 132)',
            borderColor: 'rgb(255, 99, 132)',
            data: [50, 10, 5, 2, 20, 30, 45, 100],
        }]
    };

    const labels2 = [
        'Segunda',
        'Terça',
        'Quarta',
        'Quinta',
        'Sexta',
        'Sábado',
        'Domingo'
    ];
    const labels3 = [
        '04/05',
        '06/05',
        '07/05',
        '08/05',
        '09/05',
        '10/05'
    ];
    const labels4 = [
        '09:00',
        '10:00',
        '11:00',
        '12:00',
        '13:00',
        '14:00',
        '15:00',
        '16:00',
        '17:00',
        '18:00'
    ];

    const data2 = {
        labels: labels2,
        datasets: [{
            label: 'Alertas',
            backgroundColor: 'rgb(255, 99, 132)',
            borderColor: 'rgb(255, 99, 132)',
            data: [10, 15, 5, 25, 20, 30, 45, 100],
        }]
    };

    const data3 = {
        labels: labels3,
        datasets: [{
            label: 'Alertas',
            backgroundColor: 'rgb(255, 99, 132)',
            borderColor: 'rgb(255, 99, 132)',
            data: [10, 15, 5, 25, 20, 30, 45, 100],
        }]
    };
    const data4 = {
        labels: labels4,
        datasets: [{
            label: 'Alertas',
            backgroundColor: 'rgb(255, 99, 132)',
            borderColor: 'rgb(255, 99, 132)',
            data: [5, 15, 5, 25, 20, 30, 45, 5, 1, 50, 100],
        }]
    };

    const data5 = {
        labels: [
            'Critico',
            'Média',
            'Atenção'
        ],
        datasets: [{
            label: labels,
            data: [10, 70, 20],
            backgroundColor: [
                'rgb(255, 99, 132)',
                'rgb(54, 162, 235)',
                'rgb(255, 205, 86)'
            ],
            hoverOffset: 4
        }]
    };

    const data6 = {
        datasets: [{
            label: 'Alerta/Tempo',
            data: [{
                x: 20,
                y: 8
            }, {
                x: 38,
                y: 15
            }, {
                x: 5,
                y: 2
            }, {
                x: 30,
                y: 12
            }, {
                x: 15,
                y: 6
            }, {
                x: 25,
                y: 10
            }, {
                x: 1,
                y: 2
            }, {
                x: 7,
                y: 3
            }],
            backgroundColor: 'rgb(255, 99, 132)'
        }],
    };

    const data7 = {
        labels: labels4,
        datasets: [{
            label: 'Alertas',
            backgroundColor: 'rgb(255, 99, 132)',
            borderColor: 'rgb(255, 99, 132)',
            data: [1, 2, 2, 4, 2, 6, 7, 5, 5, 5, 8, 0],
        }]
    };

    const data8 = {
        labels: labels4,
        datasets: [{
            label: 'Alertas',
            backgroundColor: 'rgb(255, 99, 132)',
            borderColor: 'rgb(255, 99, 132)',
            data: [20, 25, 25, 35, 25, 45, 25, 25, 30, 25, 80],
        }]
    };




    const config1 = {
        type: 'line',
        data: data1,
        options: {
            scales: {

                y: {
                    title: {
                        color: '#3C9DCF',
                        display: true,
                        text: 'Alertas'
                    }
                }
            }
        }
    };
    const config2 = {
        type: 'line',
        data: data2,
        options: {
            scales: {

                y: {
                    title: {
                        color: '#3C9DCF',
                        display: true,
                        text: 'Alertas'
                    }
                }
            }
        }
    };
    const config3 = {
        type: 'line',
        data: data3,
        options: {
            scales: {

                y: {
                    title: {
                        color: '#3C9DCF',
                        display: true,
                        text: 'Alertas'
                    }
                }
            }
        }
    };
    const config4 = {
        type: 'line',
        data: data4,
        options: {
            scales: {

                y: {
                    title: {
                        color: '#3C9DCF',
                        display: true,
                        text: 'Alertas'
                    }
                }
            }
        }
    };
    const config5 = {
        type: 'doughnut',
        data: data5,
        options: {}
    };
    const config6 = {
        type: 'scatter',
        data: data6,
        options: {
            scales: {
                y: {
                    title: {
                        color: '#3C9DCF',
                        display: true,
                        text: 'Tempo De Viagem Por Horas'
                    }
                },
                x: {
                    title: {
                        color: '#3C9DCF',
                        display: true,
                        text: 'Quantidade de Alertas'
                    }
                }
            }
        }
    };


    const config7 = {
        type: 'line',
        data: data7,
        options: {
            scales: {
                y: {
                    title: {
                        color: '#3C9DCF',
                        display: true,
                        text: 'Temperatura °C'
                    }
                },
                x: {
                    title: {
                        color: '#3C9DCF',
                        display: true,
                        text: 'Hora'
                    }
                }
            }
        }
    };
    const config8 = {
        type: 'line',
        data: data8,
        options: {
            scales: {
                y: {
                    title: {
                        color: '#3C9DCF',
                        display: true,
                        text: 'Umidade %'
                    }
                },
                x: {
                    title: {
                        color: '#3C9DCF',
                        display: true,
                        text: 'Hora'
                    }
                }
            }
        }
    };

    // estrategico
    const myChart1 = new Chart(
        document.getElementById('myChart1'),
        config1
    );
    const myChart2 = new Chart(
        document.getElementById('myChart2'),
        config2
    );
    const myChart3 = new Chart(
        document.getElementById('myChart3'),
        config3
    );
    const myChart4 = new Chart(
        document.getElementById('myChart4'),
        config4
    );
    const myChart5 = new Chart(
        document.getElementById('myChart5'),
        config5
    );
    const myChart6 = new Chart(
        document.getElementById('myChart6'),
        config6
    );

    //operacional

    const myChart7 = new Chart(
        document.getElementById('myChart7'),
        config7
    );
    const myChart8 = new Chart(
        document.getElementById('myChart8'),
        config8
    );


    const myChart9 = new Chart(
        document.getElementById('myChart9'),
        config7
    );
    const myChart10 = new Chart(
        document.getElementById('myChart10'),
        config8
    );



</script>

<script>
    function operacao() {
        btnOperacao.classList.add('selected');
        btnEstrategico.classList.remove('selected');
        idEstrategico.style.display = 'none';
        idOperacao.style.display = 'block';
    }

    function estrategico() {
        btnEstrategico.classList.add('selected');
        btnOperacao.classList.remove('selected');
        idOperacao.style.display = 'none';
        idEstrategico.style.display = 'block';
    }
</script>

<script>
    var dadosSession = obterDadosSession();
    var nome = dadosSession.nomeUsuario;
    var email = dadosSession.emailUsuario;
    spanNome.innerHTML = dadosSession.nomeUsuario;

    function sair() {
        signOut();
    }
</script>

<script>
    function troca() {
        viagemVar = selectViagem.value;
        if (viagemVar == 1) {
            viagem1.style.display = "block";
            viagem2.style.display = "none";
        }
        else if (viagemVar == 2) {
            viagem2.style.display = "block";
            viagem1.style.display = "none";
        }
    }
</script>


</html>